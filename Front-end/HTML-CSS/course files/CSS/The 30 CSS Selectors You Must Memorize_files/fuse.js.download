!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).fusetag=t()}(this,function(){"use strict";var e={fuse_breakpoints:{m:1024,s:768,xs:0},fuse_domain:["tutsplus.com"],fuse_settings:{adblock:!0,cmp_enabled:!1,lazy:!1,responsive:!0,headerbidding:!1,refresh:!1},fuse_blocked_url:[],fuse_id:1007,fuse_slots:[{id:"21725633260",slot:"/71161633/ENV_envato/article_hrec_1",sizes:[[970,250],[970,90],[728,90]],sizeMapping:{m:[[970,250],[970,90],[728,90]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21725633266",slot:"/71161633/ENV_envato/article_hrec_2",sizes:[[970,250],[970,90],[728,90]],sizeMapping:{m:[[970,250],[970,90],[728,90]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21725474727",slot:"/71161633/ENV_envato/article_vrec_1",sizes:[[300,600],[160,600],[300,250]],sizeMapping:{m:[[300,600],[160,600],[300,250]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355504",slot:"/71161633/ENV_envato/tutorial_top",sizes:[[970,250],[728,90],[970,90],[320,100],[320,50]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355507",slot:"/71161633/ENV_envato/tutorial_rhs_1",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354922",slot:"/71161633/ENV_envato/tutorial_rhs_2",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355510",slot:"/71161633/ENV_envato/tutorial_bottom",sizes:[[970,250],[728,90],[970,90],[300,250],[320,100],[320,50]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764347423",slot:"/71161633/ENV_envato/mob_tutorial_1",sizes:[[320,100],[320,50]],sizeMapping:{xs:[[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355513",slot:"/71161633/ENV_envato/mob_tutorial_2",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355516",slot:"/71161633/ENV_envato/mob_tutorial_3",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354925",slot:"/71161633/ENV_envato/mob_tutorial_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355519",slot:"/71161633/ENV_envato/article_top",sizes:[[728,90],[970,250],[970,90],[320,100]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[[320,100]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355522",slot:"/71161633/ENV_envato/article_rhs_1",sizes:[[160,600],[300,250],[300,600]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{lazy:!0,adblock:!1},bids:[]},{id:"21764355525",slot:"/71161633/ENV_envato/article_rhs_2",sizes:[[160,600],[300,250],[300,600]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{lazy:!0,adblock:!1,refresh:20},bids:[]},{id:"21764347426",slot:"/71161633/ENV_envato/article_mid_1",sizes:[[300,250],["fluid"]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[]},attributes:{lazy:!0,adblock:!1},bids:[]},{id:"21764354928",slot:"/71161633/ENV_envato/article_mid_2",sizes:[[300,250],["fluid"]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[]},attributes:{lazy:!0,adblock:!1},bids:[]},{id:"21764355528",slot:"/71161633/ENV_envato/article_rhs_3",sizes:[[160,600],[300,250],[300,600]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355531",slot:"/71161633/ENV_envato/article_bottom",sizes:[[970,250],[728,90],[970,90]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355534",slot:"/71161633/ENV_envato/mob_article_1",sizes:[[320,100],[320,50]],sizeMapping:{xs:[[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355537",slot:"/71161633/ENV_envato/mob_article_2",sizes:[[320,100],[300,250],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354931",slot:"/71161633/ENV_envato/mob_article_3",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355540",slot:"/71161633/ENV_envato/mob_article_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21860150610",slot:"/71161633/ENV_envato/test_top",sizes:[[970,250],[728,90],[970,90]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150613",slot:"/71161633/ENV_envato/test_rhs_1",sizes:[[300,600],[160,600],[300,250]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150280",slot:"/71161633/ENV_envato/test_rhs_2",sizes:[[300,600],[160,600],[300,250]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150616",slot:"/71161633/ENV_envato/test_mid_1",sizes:[[300,250],["fluid"]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150619",slot:"/71161633/ENV_envato/test_mid_2",sizes:[[300,250],["fluid"]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150622",slot:"/71161633/ENV_envato/test_rhs_3",sizes:[[300,600],[160,600],[300,250]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]},{id:"21860150283",slot:"/71161633/ENV_envato/test_bottom",sizes:[[970,250],[728,90],[970,90]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1},bids:[]}],supported_sizes:{m:[[970,250],[970,90],[728,90],[300,600],[160,600],[300,250],"fluid"],s:[[728,90],[160,600],[300,250],"fluid"],xs:[[320,100],[320,50],[300,250]]},prebid_analytics:[],fuse_industry:"IAB19"},t="2",n="2.9.0",r=e,i="div",o="fuse-slot",s="FUSE",a={gpt:{name:"Google Publisher Tag",url:"//www.googletagservices.com/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:r.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"}},d=void 0;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<d.length;n++)e.call(t,d[n],n,d)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;for(var o,r,s=0|t,a=Math.max(0<=s?s:i-Math.abs(s),0);a<i;){if((o=n[a])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;a++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var u="undefined"!=typeof module&&module.exports?"node":"browser",c="undefined"==typeof window?global:window,l=c,f=c.document;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return b(l.top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}function v(){return Date.now()}function m(e,t){if(e.hasOwnProperty("url")){var n=f.createElement("script");n.async=!0,n.type="text/javascript","function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e.url+e.file;var i=f.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}function y(t,n,i){function o(){var e=v()-d;e<n&&0<=e?r=setTimeout(o,n-e):(r=null,i||(u=t.apply(a,s),r||(a=s=null)))}var r,s,a,d,u;return function(){a=this,s=arguments,d=v();var e=i&&!r;return r=r||setTimeout(o,n),e&&(u=t.apply(a,s),a=s=null),u}}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]="[".concat(s,"]-").concat(t[0]),"node"==u)throw new Error(t);z&&z.error&&I&&z.error.apply(null,t)}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]="[".concat(s,"]-").concat(t[0]),z&&z.warn&&I&&z.warn.apply(null,t)}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]="[".concat(s,"]-").concat(t[0]),z&&z.log&&I&&z.log.apply(null,t)}var z=l.console,I="node"==u||"true"===h("fuse_debug")[1]||!1,A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var _,C=(function(d,l){!function(e){var t=l,n=d&&d.exports==t&&d,i="object"==g(A)&&A;i.global!==i&&i.window!==i||(e=i);function o(e){this.message=e}(o.prototype=new Error).name="InvalidCharacterError";function u(e){throw new o(e)}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,r={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,o,r=e.length%3,s="",a=-1,d=e.length-r;++a<d;)t=e.charCodeAt(a)<<16,n=e.charCodeAt(++a)<<8,i=e.charCodeAt(++a),s+=c.charAt((o=t+n+i)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==r?(t=e.charCodeAt(a)<<8,n=e.charCodeAt(++a),s+=c.charAt((o=t+n)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==r&&(o=e.charCodeAt(a),s+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),s},decode:function(e){var t=(e=String(e).replace(a,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),t%4!=1&&!/[^+a-zA-Z0-9/]/.test(e)||u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,o=0,r="",s=-1;++s<t;)i=c.indexOf(e.charAt(s)),n=o%4?64*n+i:i,o++%4&&(r+=String.fromCharCode(255&n>>(-2*o&6)));return r},version:"0.1.0"};if(t&&!t.nodeType)if(n)n.exports=r;else for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);else e.base64=r}(A)}(_={exports:{}},_.exports),_.exports),E={1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}},T=6,V=E;function P(e,t){for(var n=1<arguments.length&&void 0!==t?t:"0",i="",o=0;o<e;o+=1)i+=n;return i}function L(e,t){return P(Math.max(0,t))+e}function O(e,t){return e+P(Math.max(0,t))}function D(e,t){var n="";return"number"!=typeof e||isNaN(e)||(n=parseInt(e,10).toString(2)),t>=n.length&&(n=L(n,t-n.length)),n.length>t&&(n=n.substring(0,t)),n}function N(e){return D(!0===e?1:0,1)}function B(e,t){return e instanceof Date?D(e.getTime()/100,t):D(e,t)}function x(e,t){return D(e.toUpperCase().charCodeAt(0)-65,t)}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12;return x(e.slice(0,1),t/2)+x(e.slice(1),t/2)}function M(e,t,n){return parseInt(e.substr(t,n),2)}function F(e,t,n){return new Date(100*M(e,t,n))}function U(e,t){return 1===parseInt(e.substr(t,1),2)}function R(e){var t=M(e);return String.fromCharCode(t+65).toLowerCase()}function q(e,t,n){var i=e.substr(t,n);return R(i.slice(0,n/2))+R(i.slice(n/2))}function G(e){var t=e.input,n=e.field,i=n.name,o=n.type,r=n.numBits,s=n.encoder,a=n.validator;if("function"==typeof a&&!a(t))return"";if("function"==typeof s)return s(t);var d="function"==typeof r?r(t):r,u=t[i],c=null==u?"":u;switch(o){case"int":return D(c,d);case"bool":return N(c);case"date":return B(c,d);case"bits":return O(c,d-c.length).substring(0,d);case"list":return c.reduce(function(e,t){return e+Q({input:t,fields:n.fields})},"");case"language":return j(c,d);default:throw new Error("ConsentString - Unknown field type "+o+" for encoding")}}function Q(e){var n=e.input;return e.fields.reduce(function(e,t){return e+=G({input:n,field:t})},"")}function H(e){var t=e.input,n=e.output,i=e.startPosition,o=e.field,r=o.type,s=o.numBits,a=o.decoder,d=o.validator,u=o.listCount;if("function"==typeof d&&!d(n))return{newPosition:i};if("function"==typeof a)return a(t,n,i);var c="function"==typeof s?s(n):s;switch(r){case"int":return{fieldValue:M(t,i,c)};case"bool":return{fieldValue:U(t,i)};case"date":return{fieldValue:F(t,i,c)};case"bits":return{fieldValue:t.substr(i,c)};case"list":return function(e,t,n,i,o){var r=0;"function"==typeof o?r=o(t):"number"==typeof o&&(r=o);for(var s=n,a=[],d=0;d<r;d+=1){var u=J({input:e,fields:i.fields,startPosition:s});s=u.newPosition,a.push(u.decodedObject)}return{fieldValue:a,newPosition:s}}(t,n,i,o,u);case"language":return{fieldValue:q(t,i,c)};default:throw new Error("ConsentString - Unknown field type "+r+" for decoding")}}function J(e){var a=e.input,t=e.fields,n=e.startPosition,d=void 0===n?0:n;return{decodedObject:t.reduce(function(e,t){var n=t.name,i=t.numBits,o=H({input:a,output:e,startPosition:d,field:t}),r=o.fieldValue,s=o.newPosition;return void 0!==r&&(e[n]=r),void 0!==s?d=s:"number"==typeof i&&(d+=i),e},{}),newPosition:d}}function W(e,t){var n=e.version;if("number"!=typeof n)throw new Error("ConsentString - No version field to encode");if(t[n])return Q({input:e,fields:t[n].fields});throw new Error("ConsentString - No definition for version "+n)}var Y=O,$=function(e){var t=W(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:V);if(t){for(var n=O(t,7-(t.length+7)%8),i="",o=0;o<n.length;o+=8)i+=String.fromCharCode(parseInt(n.substr(o,8),2));return C.encode(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null},Z=function(e){return e.split("").reduce(function(e,t,n){return"1"===t&&-1===e.indexOf(n+1)&&e.push(n+1),e},[])},X=function(e,t){for(var n=e;n.length%4!=0;)n+="=";n=n.replace(/-/g,"+").replace(/_/g,"/");for(var i=C.decode(n),o="",r=0;r<i.length;r+=1){var s=i.charCodeAt(r).toString(2);o+=L(s,8-s.length)}return function(e,t){var n=1<arguments.length&&void 0!==t?t:V,i=M(e,0,T);if("number"!=typeof i)throw new Error("ConsentString - Unknown version number in the string to decode");if(!V[i])throw new Error("ConsentString - Unsupported version "+i+" in the string to decode");return J({input:e,fields:n[i].fields}).decodedObject}(o,t)},K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ee=$,te=Y;function ne(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n="",i=1;i<=e;i+=1)n+=-1!==t.indexOf(i)?"1":"0";return te(n,Math.max(0,e-n.length))}function ie(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set,n=0,i=0;i<e.length;i+=1)n=Math.max(n,e[i].id);for(var o=0;o<t.length;o+=1)n=Math.max(n,t[o]);for(var r="",s=1;s<=n;s+=1)r+=-1!==t.indexOf(s)?"1":"0";return r}function oe(e,t){for(var n=[],i=[],o=e.map(function(e){return e.id}),r=0;r<e.length;r+=1){var s=e[r].id;if(-1!==t.indexOf(s)&&n.push(s),(-1===t.indexOf(s)||r===e.length-1||-1===o.indexOf(s+1))&&n.length){var a=n.shift(),d=n.pop();n=[],i.push({isRange:"number"==typeof d,startVendorId:a,endVendorId:d})}}return i}function re(e){var t=0;return e.forEach(function(e){e.id>t&&(t=e.id)}),t}var se=function(e){var t=e.maxVendorId,n=e.vendorList,i=void 0===n?{}:n,o=e.allowedPurposeIds,r=e.allowedVendorIds,s=i.vendors,a=void 0===s?[]:s,d=i.purposes,u=void 0===d?[]:d;t=t||re(a);var c=ee(K({},e,{maxVendorId:t,purposeIdBitString:ie(u,o),isRange:!1,vendorIdBitString:ne(t,r)})),l=oe(a,r),f=ee(K({},e,{maxVendorId:t,purposeIdBitString:ie(u,o),isRange:!0,defaultConsent:!1,numEntries:l.length,vendorRangeList:l}));return c.length<f.length?c:f},ae=re,de=ne,ue=ie,ce=Z,le=X;var fe=function(e){var t=le(e),n=t.version,i=t.cmpId,o=t.vendorListVersion,r=t.purposeIdBitString,s=t.maxVendorId,a=t.created,d=t.lastUpdated,u=t.isRange,c=t.defaultConsent,l=t.vendorIdBitString,f=t.vendorRangeList,g=t.cmpVersion,p=t.consentScreen,b=t.consentLanguage,h={version:n,cmpId:i,vendorListVersion:o,allowedPurposeIds:ce(r),maxVendorId:s,created:a,lastUpdated:d,cmpVersion:g,consentScreen:p,consentLanguage:b};if(u){var v=f.reduce(function(e,t){for(var n=t.isRange,i=t.startVendorId,o=t.endVendorId,r=n?o:i,s=i;s<=r;s+=1)e[s]=!0;return e},{});h.allowedVendorIds=[];for(var m=1;m<=s;m+=1)(c&&!v[m]||!c&&v[m])&&-1===h.allowedVendorIds.indexOf(m)&&h.allowedVendorIds.push(m)}else h.allowedVendorIds=ce(l);return h},ge="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(e){return g(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":g(e)};function pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var be=se,he=ae,ve=de,me=ue,ye=fe,Se=E,we=/^[a-z]{2}$/;function ke(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ke),this.created=new Date,this.lastUpdated=new Date,this.version=1,this.vendorList=null,this.vendorListVersion=null,this.cmpId=null,this.cmpVersion=null,this.consentScreen=null,this.consentLanguage=null,this.allowedPurposeIds=[],this.allowedVendorIds=[],e&&Object.assign(this,ye(e))}function ze(e){l.addEventListener("resize",y(e||function(){k("resized",l.innerWidth,l.innerHeight)},500))}function Ie(e){var n,i=r.fuse_breakpoints,o=e||l.innerWidth;return Object.keys(i).forEach(function(e){var t=i[e];t<o&&(!n||o<n)&&(n={size:t,name:e})}),n}function Ae(){return"node"==u?100:l.performance.timing.navigationStart}function _e(){return Xe}function Ce(e){return!0===e?0:e}function Ee(e,t){var n=t.name;return e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(n)&&!1!==e.customLazy[n]?e.customLazy[n]:e.attributes.lazy}function Te(e,t,n){var i=e.getBoundingClientRect(),o=t?100/t:1,r=Ce(n),s=f.hidden,a=i.top<0?i.top>=-1*i.height/o:0<=i.top,d=0<=i.left,u=i.bottom-(n||0===n?i.height+r:i.height/o)<=(l.innerHeight||f.documentElement.clientHeight),c=i.right<=(l.innerWidth||f.documentElement.clientWidth);return!s&&a&&d&&u&&c}function Ve(){return void 0!==l.__cmp}function Pe(e){if(!e)return S("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1}function Le(t){if(!t)return S("missing parameter fuseSlotID");if("string"!=typeof t)return S("fuseSlotId should be of type string");var n=RegExp(t.toLowerCase()+"$");return b(Xe.filter(function(e){return e.id===t||n.test(e.slot.toLowerCase())}),1)[0]||!1}function Oe(){var e=l.top.location.host;return e.substring(e.length-40,e.length)}function De(){var e=l.top.location.pathname;return e.substring(e.length-40,e.length)}function Ne(){var e=l.top.location.search;return e.substring(e.length-40,e.length)}function Be(){for(var e=[],t=l.top.location.pathname.split("/"),n=0;n<t.length;n+=1)t[n].length&&-1===t[n].indexOf(".")&&e.push(t[n]);return e}function xe(e){if(Ye&&Ye.cmd)return Ye.cmd.push(e);k("googletag or googletag.cmd not exists")}function je(t){if(Ye&&t)return Ye.pubads().getSlots().filter(function(e){return e.getSlotElementId()===t})}function Me(e,t){xe(function(){Ye.pubads().setTargeting(e,t)})}function Fe(){Me("fuse_profanity",function(){var t=l.top.location.host,n=l.top.location.pathname,i="false";return r.fuse_blocked_url&&r.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+n)&&(i="true")}),i}()),Me("fuse_site",Oe()),Me("fuse_path",De()),Me("fuse_query",Ne()),Me("fuse_category",Be()),Me("fuse_industry",r.fuse_industry)}function Ue(){return l.pbjs=l.pbjs||(l.pbjs={que:[]})}function Re(e){l.pbjs&&l.pbjs.que&&l.pbjs.que.push(e)}function qe(e){var t=e/.835;return k("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}function Ge(e){e.prebid_analytics&&e.prebid_analytics.length&&e.prebid_analytics.forEach(function(e,t){0!==t&&w("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),l.pbjs.enableAnalytics(e),k("[ANALYTICS]: Analytics enabled for ".concat(e.provider))})}function Qe(){var e={};return vt.setPriceGranularity(e),vt.setEnableSendAllBids(e),vt.setConsentManagement(e,r),vt.setSizeConfig(e,r),vt.setUserSync(e),vt.setBidderSettings(e),k("[BIDS]: Setting Prebid Config"),l.pbjs.setConfig(e),Ge(r),e}function He(e){k("[BIDS]: Setting Prebid ad units ".concat(e.code)),l.pbjs.addAdUnits(e)}function Je(e){k("[BIDS]: Requesting bids"),l.pbjs.requestBids({bidsBackHandler:e})}var We,Ye,$e={ConsentString:{ConsentString:(function(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}(ke,[{key:"getConsentString",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!this.vendorList)throw new Error("ConsentString - A vendor list is required to encode a consent string");return!0===t&&(this.lastUpdated=new Date),be({version:this.getVersion(),vendorList:this.vendorList,allowedPurposeIds:this.allowedPurposeIds,allowedVendorIds:this.allowedVendorIds,created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,consentLanguage:this.consentLanguage,vendorListVersion:this.vendorListVersion})}},{key:"getLastUpdated",value:function(){return this.lastUpdated}},{key:"setLastUpdated",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.lastUpdated=t?new Date(t):new Date}},{key:"getCreated",value:function(){return this.created}},{key:"setCreated",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.created=t?new Date(t):new Date}},{key:"getMaxVendorId",value:function(){return he(this.vendorList.vendors)}},{key:"getParsedVendorConsents",value:function(){return ve(he(this.vendorList.vendors),this.allowedVendorIds)}},{key:"getParsedPurposeConsents",value:function(){return me(this.vendorList.purposes,this.allowedPurposeIds)}},{key:"getMetadataString",value:function(){return be({version:this.getVersion(),created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,vendorListVersion:this.vendorListVersion})}},{key:"getVersion",value:function(){return this.version}},{key:"getVendorListVersion",value:function(){return this.vendorListVersion}},{key:"setGlobalVendorList",value:function(e){if("object"!==(void 0===e?"undefined":ge(e)))throw new Error("ConsentString - You must provide an object when setting the global vendor list");if(!e.vendorListVersion||!Array.isArray(e.purposes)||!Array.isArray(e.vendors))throw new Error("ConsentString - The provided vendor list does not respect the schema from the IAB EUâ€™s GDPR Consent and Transparency Framework");this.vendorList={vendorListVersion:e.vendorListVersion,lastUpdated:e.lastUpdated,purposes:e.purposes,features:e.features,vendors:e.vendors.slice(0).sort(function(e,t){return e.id<t.id?-1:1})},this.vendorListVersion=e.vendorListVersion}},{key:"getGlobalVendorList",value:function(){return this.vendorList}},{key:"setCmpId",value:function(e){this.cmpId=e}},{key:"getCmpId",value:function(){return this.cmpId}},{key:"setCmpVersion",value:function(e){this.cmpVersion=e}},{key:"getCmpVersion",value:function(){return this.cmpVersion}},{key:"setConsentScreen",value:function(e){this.consentScreen=e}},{key:"getConsentScreen",value:function(){return this.consentScreen}},{key:"setConsentLanguage",value:function(e){if(!1===we.test(e))throw new Error("ConsentString - The consent language must be a two-letter ISO639-1 code (en, fr, de, etc.)");this.consentLanguage=e}},{key:"getConsentLanguage",value:function(){return this.consentLanguage}},{key:"setPurposesAllowed",value:function(e){this.allowedPurposeIds=e}},{key:"getPurposesAllowed",value:function(){return this.allowedPurposeIds}},{key:"setPurposeAllowed",value:function(e,t){var n=this.allowedPurposeIds.indexOf(e);!0===t?-1===n&&this.allowedPurposeIds.push(e):!1===t&&-1!==n&&this.allowedPurposeIds.splice(n,1)}},{key:"isPurposeAllowed",value:function(e){return-1!==this.allowedPurposeIds.indexOf(e)}},{key:"setVendorsAllowed",value:function(e){this.allowedVendorIds=e}},{key:"getVendorsAllowed",value:function(){return this.allowedVendorIds}},{key:"setVendorAllowed",value:function(e,t){var n=this.allowedVendorIds.indexOf(e);!0===t?-1===n&&this.allowedVendorIds.push(e):!1===t&&-1!==n&&this.allowedVendorIds.splice(n,1)}},{key:"isVendorAllowed",value:function(e){return-1!==this.allowedVendorIds.indexOf(e)}}],[{key:"decodeMetadataString",value:function(e){var t=ye(e),n={};return Se[t.version].metadataFields.forEach(function(e){n[e]=t[e]}),n}}]),ke)}.ConsentString,decodeConsentString:fe,encodeConsentString:se}.ConsentString,Ze={watchForBreakpoints:function(t){var n=l.innerWidth,i=Ie(n).size;ze(function(){n=l.innerWidth;var e=Ie(n).size;return e!==i?(k("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",n,i=e),t(!0)):t(!1)})},setResizeListener:ze,getCurrentBreakpoint:Ie},Xe=JSON.parse(JSON.stringify(r.fuse_slots)),Ke=function(e,t){var n=e.allowedPurposeIds&&e.allowedPurposeIds.length,i={allowPersonalisedAds:n&&e.allowedPurposeIds.includes(2),allowAdsReporting:n&&e.allowedPurposeIds.includes(3)};return t?t(i):i},et={getMatchedFuseSlot:Le,clearFuseSkins:function(){for(var e=f.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},getFuseDob:Ae,getTime:function(){return We},setNewTime:function(e){return We=e},getFuseQueue:function(){return l.fusetag.que||[]},matchNodeToFuseSlotObject:function(e){if(!e)return S("missing parameter fuseSlotNode");var t=e.getAttribute("data-fuse"),n=Le(t);if(n||w("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(t)),n){Pe(n);var i=e.getAttribute("data-targeting-key"),o=e.getAttribute("data-targeting-value");i&&i.length&&o&&o.length&&(n.targeting||(n.targeting={}),n.targeting[i]=o)}return n},incrementMatchedFuseSlot:Pe,getUnits:function(){return Array.prototype.slice.call(f.querySelectorAll("".concat(i,"[data-fuse]")))},getSlots:_e,getFuseUnitById:function(e){var t=f.querySelectorAll("".concat(i,'[data-fuse="').concat(e,'"]'));return t[t.length-1]},getFuseUnitByCode:function(e){var t=f.querySelectorAll("".concat(i,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&w("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},buildFuseSlot:function(e,t){if(k("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-Ae()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),!t.hasChildNodes()){var n=f.createElement("div");n.setAttribute("id","".concat(e.code)),n.className=o,t.appendChild(n)}return t},resetSlots:function(){return Xe=JSON.parse(JSON.stringify(r.fuse_slots))},checkInView:Te,getCurrentSizeMapSizes:function(t){var e=Ze.getCurrentBreakpoint().name,n=b(_e().filter(function(e){return e.id===t})||[],1)[0];return n.sizeMapping&&n.sizeMapping[e]?(Array.isArray(n.sizeMapping[e])?n.sizeMapping[e]:[n.sizeMapping[e]]).filter(function(e){return"fluid"!==e}):(w('Fuse slot "'.concat(t,'" does not have sizemaps configured, sizeless prebid units may act strangely.')),n.sizes)},lazyAttribute:Ce,lazyDeviceToggle:Ee,checkLazyFalsy:function(e,t,n){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!Te(e,50,Ee(t,n)))},hasCMP:Ve,getConsentData:function(n){var i=!1;l.__cmp("getConsentData",null,function(e){if(i=!0,e&&e.consentData){var t=new $e(e.consentData);n(Ke(t),e.gdprApplies)}else n(!1,!0)}),setTimeout(function(){if(!i)return n(!(i=!0),!0)},2e3)},cmpLoaded:function(t){if(!Ve())return t(!1);l.__cmp("ping",null,function(e){e.cmpLoaded&&t(!0)})},checkConsentData:Ke},tt=a.gpt,nt=Fe,it=function(){return m(tt,function(){k("[LOAD]: 3. GPT ".concat(l.googletag&&l.googletag._loadStarted_?"v".concat(Ye.getVersion()," is loaded and ready"):"not loaded")),k("[TIME]: time in ms it took GPT to load",new Date-et.getFuseDob())})},ot=function(e){var t,n=Ye.defineSlot(e.slot,e.sizes,e.code),i=Math.ceil(100*Math.random());n&&(n=function(t,n){return n.attributes&&0!==Object.keys(n.attributes).length&&Object.keys(n.attributes).forEach(function(e){t.set(e,n.attributes[e])}),t}(n=function(t,n){return n.targeting&&0!==Object.keys(n.targeting).length&&Object.keys(n.targeting).forEach(function(e){t.setTargeting(e,n.targeting[e])}),t}(n=function(e,i){if(i.sizeMapping&&0!==Object.keys(i.sizeMapping).length){var o=Ye.sizeMapping();Object.keys(i.sizeMapping).forEach(function(e){var t=r.fuse_breakpoints[e],n=i.sizeMapping[e];void 0!==t&&(k("[EVENT] Setting breakpoint for slot ".concat(i.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(n)),o.addSize([t,0],n))}),e.defineSizeMapping(o.build())}return e}(n,e),e),e),t=10<i?"optimized":i%10==0?"benchmark":"exploration".concat(i%10),!1!==r.fuse_settings.adomik&&n.setTargeting("publift_mv_testing",t),n.addService(Ye.pubads()));return n},rt=function(){return Ye=l.googletag||(l.googletag={cmd:[]})},st=Me,at=xe,dt=function(e){var t;if(Ye)return t=!e&&0<Ye.pubads().getSlots().length?Ye.pubads().getSlots()[Ye.pubads().getSlots().length-1].getSlotElementId():e?e.code:null,k("[BIDS]: Initialising DFP call at",new Date-(et.getTime()||et.getFuseDob())),Ye.display(t)},ut=function(e){var t=e?je(e):null;return k("[BIDS]: Making DFP call for ".concat(e||"all units")),Ye.pubads().refresh(t)},ct=je,lt=function(){Ye.pubads().disableInitialLoad(),Ye.pubads().collapseEmptyDivs(!0),Ye.pubads().setCentering(!0),Ye.pubads().enableSingleRequest(),Fe()},ft=function(t){Ye.pubads().addEventListener("slotRenderEnded",function(e){k("[BIDS]: Adserver responded ".concat(e.isEmpty?"without":"with"," creative for ").concat(e.slot.getSlotElementId())),k("[TIME]: time in ms it took for adserver to respond",new Date-(et.getTime()||et.getFuseDob())),t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},gt=function(){Ye.pubads().addEventListener("impressionViewable",function(e){k("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(et.getTime()||et.getFuseDob()))})},pt=function(){l.googletag.enableServices()},bt=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.slots={},this.logger=e.logger,this.core=e.core,this.pushToGoogleTagQueueFunc=e.pushToGoogleTagQueueFunc,this.destroySlotsFunc=e.destroySlotsFunc}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");var n=e.toLowerCase();Array.isArray(this.slots[n])||(this.slots[n]=[]),this.slots[n].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t=this;if(e&&"string"==typeof e){var n=e.toLowerCase(),i=this.slots[n];Array.isArray(i)&&this.pushToGoogleTagQueueFunc(function(){t.destroySlotsFunc(i)})}}},{key:"getSlots",value:function(e){return e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()])?this.slots[e.toLowerCase()]:void 0}},{key:"setSlotTargetingById",value:function(t,n,i){var o=this;if(t&&"string"==typeof t){var e=o.slots[t.toLowerCase()];if(e&&Array.isArray(e)&&e.length){var r=this.core.getMatchedFuseSlot(fuseId);r&&(r.targeting||(r.targeting={}),r.targeting[t]=value),e.forEach(function(e){try{e.setTargeting(n,i)}catch(e){o.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}})}}}}]),t}(),ht=a.prebid,vt={setConsentManagement:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};"function"!=typeof l.__cmp&&!n.cmp_enabled||(e.consentManagement={cmpApi:"iab",timeout:1e4,allowAuctionWithoutConsent:!1},k("[CONSENT]: window.__cmp function found, prebid consent management module in place"))},setUserSync:function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},setPriceGranularity:function(e){e.priceGranularity={buckets:[{min:0,max:2.99,increment:.01,precision:2},{min:3,max:9.9,increment:.1,precision:2},{min:10,max:49,increment:1,precision:2},{min:50,max:100,increment:10,precision:2}]}},setEnableSendAllBids:function(e){e.enableSendAllBids=!1},setSizeConfig:function(t,n){if(n&&n.fuse_settings&&n.fuse_settings.responsive){var i=null;t.sizeConfig=[],Object.keys(n.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(n.fuse_breakpoints[e],"px)").concat(i?" and (max-width: ".concat(i-1,"px)"):""),sizesSupported:n.supported_sizes[e],labels:[e]}),i=n.fuse_breakpoints[e]})}},setBidderSettings:function(e){e.bidderSettings={ix:{bidCpmAdjustment:qe}}}},mt="node"==u?{prebidConfigSetters:vt,setPrebidConfig:Qe,createPrebidObj:Ue,pushToPrebidQue:Re,setPrebidAdUnits:He,requestPrebidBids:Je,setPrebidAnalytics:Ge,ixBidCpmAdjustment:qe}:{loadPrebidLibrary:function(){return"true"===h("local_prebid")[1]?(w("[LOAD]: local version of prebid in use"),ht.url="./"):ht.url+="".concat(t,"/").concat(r.fuse_id,"/"),m(ht,function(){k("[LOAD]: 3. Prebid ".concat(l.pbjs&&l.pbjs.libLoaded?"".concat(l.pbjs.version," is loaded and ready"):"not loaded")),k("[TIME]: time in ms it took Prebid to load",new Date-et.getFuseDob())})},createPrebidObj:Ue,pushToPrebidQue:Re,setPrebidConfig:Qe,setPrebidAdUnits:He,requestPrebidBids:Je,sendPrebidAdserverRequest:function(e){!l.pbjs||l.pbjs&&l.pbjs.adserverRequestSent||(l.pbjs.adserverRequestSent=!0,k("[BIDS]: Setting adserver request from ".concat(e)),at(function(){Re(function(){l.pbjs.setTargetingForGPTAsync();var t=l.pbjs.getAdserverTargeting();0!==Object.keys(t).length&&Object.keys(t).forEach(function(e){k("[BIDS]: Winning bid for slot ".concat(e," of ").concat(t[e].hb_pb," returned before timeout"))}),ut()})}))}},yt={capture:!0,passive:!0},St=function(n,i,o){l.addEventListener("scroll",function e(){var t=Ze.getCurrentBreakpoint();et.checkInView(n,null,et.lazyDeviceToggle(i,t))&&(!et.lazyDeviceToggle(i,t)&&0!==et.lazyDeviceToggle(i,t)||(o(),l.removeEventListener("scroll",e,yt)))},yt)},wt=a.adblock,kt={loadAdBlocklLibrary:function(){return m(wt,function(){k("[LOAD]: 3. Adblock script loaded."),k("[TIME]: time in ms to load Adblock script",new Date-et.getFuseDob())})},createAdBlockObj:function(){return l.Criteo||(l.Criteo={events:[]})},buildAdBlockSlots:function(e,t){if(!(0<t.querySelectorAll('[id^="crt"]').length)&&e.attributes&&e.attributes.adblock){var n=f.createElement("DIV"),i=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",o={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:i,callbacksuccess:function(e){k("[SLOTS]: Adblock slots ".concat(o.containerid," loaded")),k("[TIME]: time in ms it took Adblock Slot ".concat(o.containerid," to load"),new Date-et.getFuseDob()),e.target.parentNode.style.display="block"}};n.id=o.containerid,n.className="fuse-adblock",t.appendChild(n),function(e){var t;l.Criteo?(t=e,l.Criteo.events.push(function(){k("[SLOTS]: Adblock slots ".concat(t.containerid," set up")),l.Criteo.DisplayAcceptableAdIfAdblocked(t),f.getElementById(t.containerid).style.height=t.height,f.getElementById(t.containerid).style.display="none"})):w("You need to declare the global Criteo Object first")}(o)}}},zt=e,It=zt.fuse_settings;It.pageTargeting=[];function At(){return xt}function _t(){return jt}function Ct(){return JSON.parse(JSON.stringify(zt))}function Et(){Object.keys(Mt).forEach(function(e){return clearInterval(Mt[e])}),Mt={}}function Tt(){mt&&0<It.headerbidding?mt.pushToPrebidQue(function(){l.pbjs&&l.pbjs.adUnits&&(l.pbjs.adUnits=l.pbjs.adUnits.map(function(e){var t=jt[e.code];if(!t)return e;var n=et.getCurrentSizeMapSizes(t.id);return e.sizes=n,e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),e})),l.pbjs.requestBids({timeout:It.headerbidding,bidsBackHandler:function(e){k("[BIDS]: Prebid bid response for all",e),k("[TIME]: time it took for Prebid bids to return",new Date-(et.getTime()||et.getFuseDob())),l.pbjs.setTargetingForGPTAsync(),et.clearFuseSkins(),ut()}})}):at(function(){dt(),et.clearFuseSkins(),ut()})}function Vt(i){i&&(k("[REFRESH]: Refreshing ".concat(i," at: "),new Date-(et.getTime()||et.getFuseDob())),mt&&0<It.headerbidding?mt.pushToPrebidQue(function(){if(l.pbjs&&l.pbjs.adUnits){var e=l.pbjs.adUnits[i];if(e){var t=jt[i];if(!t)return;var n=et.getCurrentSizeMapSizes(t.id);e.sizes=n,e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),l.pbjs.adUnits[i]=e}}l.pbjs.requestBids({timeout:It.headerbidding,adUnitCodes:[i],bidsBackHandler:function(e){var t;k("[BIDS]: Prebid bid response for ".concat(t=i),e),k("[TIME]: time it took for Prebid bids to return",new Date-(et.getTime()||et.getFuseDob())),l.pbjs.setTargetingForGPTAsync([t]),ut(t)}})}):at(function(){ut(i)}))}function Pt(t,e){Mt[t.code]&&clearInterval(Mt[t.code]),Mt[t.code]=setInterval(function(){var e=Ze.getCurrentBreakpoint();t.element&&et.checkInView(t.element,50,et.lazyDeviceToggle(t,e))&&(!t.element.clientHeight&&t.hasCreative||Vt(t.code))},1e3*e)}function Lt(e){e.attributes.refresh?(k("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-et.getFuseDob()),Pt(e,e.attributes.refresh)):0===e.attributes.refresh?k("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-et.getFuseDob()):It.refresh&&0<It.refresh?(k("[LOAD]: Setting global refresh time of ".concat(It.refresh," seconds for ").concat(e.code," at: "),new Date-et.getFuseDob()),Pt(e,It.refresh)):k("[LOAD]: No refresh timer exists in account settings.")}function Ot(e){var t=et.getFuseUnitById(e);if(!t)return w("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));var n=JSON.parse(JSON.stringify(et.matchNodeToFuseSlotObject(t)));n&&(n.code="".concat(o,"-").concat(n.id,"-").concat(n.matched),et.buildFuseSlot(n,t),n.attributes&&n.attributes.adblock&&kt.buildAdBlockSlots(n,t),jt[n.code]=n,jt[n.code].element=t,xt[n.code]=t,at(function(){var e=ot(n);return Ft.add(n.id,e),e}),mt&&0<It.headerbidding&&mt.pushToPrebidQue(function(){mt.setPrebidAdUnits({code:n.code,mediaTypes:{banner:{sizes:et.getCurrentSizeMapSizes(n.id)}},bids:n.bids})}),at(function(){dt(n)}),Lt(n),Vt(n.code))}function Dt(){et.setNewTime(new Date),Ft.purgeAll(),xt={},jt={},et.clearFuseSkins(),Et(),Object.keys(It.pageTargeting).forEach(function(e){at(function(){l.googletag.pubads().clearTargeting(e)})}),mt&&0<It.headerbidding&&pbjs.adUnits&&(pbjs.adUnits.length=0)}function Nt(){Dt(),et.getUnits().forEach(function(e){var t=et.matchNodeToFuseSlotObject(e);if(t){t.code||((t=JSON.parse(JSON.stringify(t))).code="".concat(o,"-").concat(t.id,"-").concat(t.matched)),et.buildFuseSlot(t,e),t.attributes&&t.attributes.adblock&&kt.buildAdBlockSlots(t,e),jt[t.code]=t,jt[t.code].element=e,xt[t.code]=e;var n=Ze.getCurrentBreakpoint();et.checkLazyFalsy(e,t,n)?(k("[SLOTS]: Adding lazy listener for ".concat(t.code)),St(e,t,function(){!function(e){k("[LOAD]: Loading ".concat(e," at ").concat(new Date-(et.getTime()||et.getFuseDob())));var t=et.getFuseUnitByCode(e).getAttribute("data-fuse-code");t||w("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var n=_t()[t];n&&(at(function(){var e=ot(n);return Ft.add(n.id,e),e}),mt&&0<It.headerbidding&&mt.pushToPrebidQue(function(){mt.setPrebidAdUnits({code:n.code,mediaTypes:{banner:{sizes:et.getCurrentSizeMapSizes(n.id)}},bids:n.bids})}),at(function(){dt(n)}),Vt(n.code),Lt(n))}(t.code)})):(at(function(){var e=ot(t);return Ft.add(t.id,e),e}),mt&&0<It.headerbidding&&mt.pushToPrebidQue(function(){mt.setPrebidAdUnits({code:t.code,mediaTypes:{banner:{sizes:et.getCurrentSizeMapSizes(t.id)}},bids:t.bids})}),Lt(t))}}),It.pageTargeting.forEach(function(e){at(function(){st(e.key,e.value)})}),at(function(){nt(),dt(),Tt()})}var Bt=l.fusetag||(l.fusetag={que:[]}),xt={},jt={},Mt={},Ft=new bt({core:et,logger:{error:S},pushToGoogleTagQueueFunc:function(e){return at(e)},destroySlotsFunc:function(e){return l.googletag.destroySlots(e)}});Bt.init=Ut,Bt.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Mt))},Bt.getSlots=_t,Bt.getSettings=Ct,Bt.getUnits=At,Bt.loadSlots=Nt,Bt.loadSlotById=Ot,Bt.refreshSlots=Tt,Bt.refreshSlotByCode=Vt,Bt.resetSlots=Dt,Bt.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return Ft.getSlots("".concat(e))},Bt.setSlotTargetingById=function(e,t,n){!e||"string"!=typeof e&&"number"!=typeof e||Ft.setSlotTargetingById(e,t,n)},Bt.onSlotRenderEnded=function(e){at(function(){return ft(e)})},Bt.getAdSlotsByFuseId=Bt.getAdSlotsById,Bt.getFuseSlots=_t,Bt.getFuseSettings=Ct,Bt.getFuseUnits=At,Bt.loadFuseSlots=Nt,Bt.loadFuseSlotById=Ot,Bt.resetFuseSlots=Dt,Bt.setSlotTargetingByFuseId=Bt.setSlotTargetingById,Bt.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&Mt[e]?(k("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(Mt[e])):(k("[REFRESH]: Disabling refresh for all units"),Et())},Bt.setTargeting=function(e,t){It.pageTargeting.push({key:e,value:t}),k("[LOAD]: Adding custom targeting for [key: ".concat(e,", value: ").concat(t,"]"))},Bt.getTargeting=function(){return It.pageTargeting},Bt.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){S("Error processing command :",e.message,e.stack)}else S("Commands written into fusetag.que.push must be wrapped in a function")};var Ut=function(e){mt&&0<It.headerbidding&&(mt.createPrebidObj(),mt.loadPrebidLibrary(),mt.pushToPrebidQue(function(){mt.setPrebidConfig()}),at(function(){l.googletag.pubads().disableInitialLoad()}),k("[LOAD]: 2. Headerbidding enabled, settings and ".concat(It.headerbidding,"ms timeout added"))),0<It.adblock&&(kt.createAdBlockObj(),kt.loadAdBlocklLibrary(),k("[LOAD]: 2. Adblock has been enabled.")),at(function(){lt(),ft(function(e){jt[e.slotId]?jt[e.slotId].hasCreative=e.hasCreative:k("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),gt(jt),pt()}),It.responsive&&Ze.watchForBreakpoints(function(e){e&&Tt()}),"node"==u&&(Bt.getGPTSlot=ct);var t=setInterval(function(){"complete"===f.readyState||"interactive"===f.readyState?(clearInterval(t),k("[TIME]: time in ms it took the page to load: ",new Date-et.getFuseDob()),Bt.loaded||(Bt.loaded=!0,et.getFuseQueue().forEach(function(e){if(k("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){S("Error processing command :",e.message,e.stack)}else S("Commands written into fusetag.que.push must be wrapped in a function")})),Nt()):k("Waiting for parent Page to finish loading. Page status is: ",f.readyState)},10)};if(Bt.loaded&&w("[LOAD]: Fuse Tag was loaded more than once."),k("[LOAD]: 1. Fuse Tag v".concat(n," is loaded and ready")),k("[TIME]: time in ms it took Fuse to load",new Date-et.getFuseDob()),rt(),it(),It.skip_auto_init)k("[INIT]: auto init is off skip Fuse init");else if(It.cmp_enabled||et.hasCMP()){k("[CONSENT]: Found IAB CMP try to check for CMP status before initiating");var Rt=1,qt=setInterval(function(){et.cmpLoaded(function(e){k("[CONSENT]: CMP loaded, looking for consent"),e?(clearInterval(qt),et.getConsentData(function(e,t){e&&e.allowPersonalisedAds||!t?k("[CONSENT]: User consented to Personalised Ads, or GDPR does not apply, continue as normal"):(function(){var n=1,i=setInterval(function(){et.getConsentData(function(e,t){e&&e.allowPersonalisedAds||!t?(at(function(){l.googletag.pubads().setRequestNonPersonalizedAds(0),Tt()}),clearInterval(i)):10<=n?clearInterval(i):n+=1})},3e3)}(),k("[CONSENT]: No consent found, initiate with personalised ads off")),Ut()})):20<=Rt?(k("[CONSENT]: Cannot find CMP after 2 seconds, continue as per normal"),clearInterval(qt),Ut()):Rt+=1})},100)}else k("[CONSENT]: No CMP found, continue to init Fuse"),Ut();return Bt});
